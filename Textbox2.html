<animated-textbox style="width:306px; height:39px;" placeholder="Email"></animated-textbox>

<style>
animated-textbox {
  display: block;
  width: 306px;
  height: 39px;
}
animated-textbox::part(input) {
  height: 100%;
}
</style>

<script>
class AnimatedTextBox extends HTMLElement {
  constructor() {
    super();
    const root = this.attachShadow({mode:'open'});
root.innerHTML = `
  <style>
    :host { display:block; width:100%; height:100%; }
    .wrap {
      background: #111;
      border: 1px solid #222;
      border-radius: 4px;
      padding: 2px 4px;
      position: relative;
      height: 100%;
      width: 100%;
      display: flex;
      align-items: center;
      overflow: hidden;
    }
    input {
      background: transparent;
      border: none;
      outline: none;
      width: 100%;
      height: 100%;
      font-size: 1em; /* scalable font */
      color: #e0e0e0;
      padding: 0 2px;
    }
    label {
      position: absolute;
      left: 4px;
      top: 2px;
      font-size: 0.8em;
      color: #666;
      pointer-events: none;
      transition: all 0.15s;
    }
    label.floating { top:-20%; font-size: 0.7em; color:#888; }
    .line {
      position: absolute;
      bottom: 0;
      left: 0;
      height: 2px;
      width: 100%;
      background: #333;
      transform: scaleX(0);
      transform-origin: left;
      transition: transform 0.15s;
    }
    .wrap.focus .line { transform: scaleX(1); }
  </style>
  <div class="wrap">
    <label></label>
    <input />
    <div class="line"></div>
  </div>
`;
    this._root = root;
    this._wrap = root.querySelector('.wrap');
    this._label = root.querySelector('label');
    this._input = root.querySelector('input');
    this._line = root.querySelector('.line');

    this._onInput = this._onInput.bind(this);
    this._onFocus = this._onFocus.bind(this);
    this._onBlur = this._onBlur.bind(this);
  }

  connectedCallback() {
    const ph = this.getAttribute('placeholder') || '';
    this._label.textContent = ph;
    this._input.addEventListener('input', this._onInput);
    this._input.addEventListener('focus', this._onFocus);
    this._input.addEventListener('blur', this._onBlur);
  }

  _onInput() {
    if (this._input.value.length > 0)
      this._label.classList.add('floating');
    else
      this._label.classList.remove('floating');
  }
  _onFocus() { this._wrap.classList.add('focus'); this._label.classList.add('floating'); }
  _onBlur() { this._wrap.classList.remove('focus'); this._onInput(); }
}
customElements.define('animated-textbox', AnimatedTextBox);
</script>
